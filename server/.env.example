# Alpha Vantage MCP Server - Environment Configuration Example
# Copy this file to .env and customize the values for your environment

# ==============================================================================
# REQUIRED CONFIGURATION
# ==============================================================================

# MCP_OUTPUT_DIR (REQUIRED)
# Root directory for all output files
# Must be an absolute path with write permissions
# The directory will be created automatically if it doesn't exist
# Example: /Users/username/alpha_vantage_outputs
MCP_OUTPUT_DIR=/path/to/your/output/directory


# ==============================================================================
# OPTIONAL CONFIGURATION
# All optional settings have sensible defaults shown in comments
# ==============================================================================

# Project Organization
# ---------------------

# MCP_PROJECT_NAME (default: "default")
# Current project name for organizing output files
# Used when enable_project_folders is true
# Example: my_trading_analysis
# MCP_PROJECT_NAME=default

# MCP_ENABLE_PROJECT_FOLDERS (default: true)
# Enable project-based folder organization
# When true, creates subdirectories under client_root for each project
# Accepted values: true, false, 1, 0, yes, no, on, off
# MCP_ENABLE_PROJECT_FOLDERS=true


# Output Decision Logic
# ----------------------

# MCP_OUTPUT_AUTO (default: true)
# Automatically decide whether to write files or return inline data
# When true, uses token/row thresholds to make the decision
# When false, always returns inline unless explicitly overridden
# Accepted values: true, false, 1, 0, yes, no, on, off
# MCP_OUTPUT_AUTO=true

# MCP_OUTPUT_TOKEN_THRESHOLD (default: 1000)
# Minimum token count to trigger file output (when output_auto is true)
# Must be greater than 0
# Example: For 1000 tokens ≈ 750 words ≈ 3-4 KB of text
# MCP_OUTPUT_TOKEN_THRESHOLD=1000

# MCP_OUTPUT_CSV_THRESHOLD (default: 100)
# Minimum row count to trigger CSV file output
# Must be between 1 and 1,000,000
# Example: 100 rows is typically 10-50 KB depending on column count
# MCP_OUTPUT_CSV_THRESHOLD=100

# MCP_MAX_INLINE_ROWS (default: 50)
# Maximum number of rows to return inline before forcing file output
# Must be greater than 0
# Useful for preventing extremely large inline responses
# MCP_MAX_INLINE_ROWS=50


# File Format & Features
# -----------------------

# MCP_OUTPUT_FORMAT (default: "csv")
# Default output format for data files
# Accepted values: csv, json
# MCP_OUTPUT_FORMAT=csv

# MCP_OUTPUT_COMPRESSION (default: false)
# Enable gzip compression for output files
# When true, files are saved with .gz extension
# Reduces file size by 60-90% for large datasets
# Accepted values: true, false, 1, 0, yes, no, on, off
# MCP_OUTPUT_COMPRESSION=false

# MCP_OUTPUT_METADATA (default: true)
# Include metadata in API responses
# Metadata includes: timestamp, row count, file size, API endpoint used
# Accepted values: true, false, 1, 0, yes, no, on, off
# MCP_OUTPUT_METADATA=true


# Performance & Streaming
# ------------------------

# MCP_STREAMING_CHUNK_SIZE (default: 10000)
# Number of rows to process per chunk when streaming large datasets
# Must be between 100 and 100,000
# Larger values = faster processing but higher memory usage
# Smaller values = slower but more memory efficient
# Recommended: 10,000 for most use cases
# MCP_STREAMING_CHUNK_SIZE=10000


# System Configuration
# --------------------

# MCP_DEFAULT_FOLDER_PERMISSIONS (default: 0o755)
# Default permission mode for created directories
# Accepts octal format (0oXXX) or decimal integer
# 0o755 = rwxr-xr-x (owner: read/write/execute, group/others: read/execute)
# 0o750 = rwxr-x--- (owner: read/write/execute, group: read/execute, others: none)
# 0o700 = rwx------ (owner: read/write/execute, group/others: none)
# MCP_DEFAULT_FOLDER_PERMISSIONS=0o755


# ==============================================================================
# USAGE EXAMPLES
# ==============================================================================

# Example 1: Personal use with default settings
# MCP_OUTPUT_DIR=/Users/john/Documents/alpha_vantage_data
# MCP_PROJECT_NAME=trading_research
# (all other settings use defaults)

# Example 2: High-volume production with compression
# MCP_OUTPUT_DIR=/var/data/alpha_vantage
# MCP_PROJECT_NAME=production
# MCP_OUTPUT_COMPRESSION=true
# MCP_STREAMING_CHUNK_SIZE=50000
# MCP_OUTPUT_TOKEN_THRESHOLD=5000

# Example 3: Testing with inline responses preferred
# MCP_OUTPUT_DIR=/tmp/alpha_vantage_test
# MCP_PROJECT_NAME=test
# MCP_OUTPUT_AUTO=false
# MCP_OUTPUT_METADATA=true

# Example 4: Secure multi-user environment
# MCP_OUTPUT_DIR=/shared/alpha_vantage
# MCP_PROJECT_NAME=team_analysis
# MCP_ENABLE_PROJECT_FOLDERS=true
# MCP_DEFAULT_FOLDER_PERMISSIONS=0o750


# ==============================================================================
# TROUBLESHOOTING
# ==============================================================================

# Error: "MCP_OUTPUT_DIR must be set"
# Solution: Set MCP_OUTPUT_DIR to an absolute path
# Example: MCP_OUTPUT_DIR=/Users/username/alpha_vantage_outputs

# Error: "Path must be absolute"
# Solution: Use full path starting with / (Unix) or C:\ (Windows)
# Bad: MCP_OUTPUT_DIR=./outputs
# Good: MCP_OUTPUT_DIR=/Users/username/outputs

# Error: "Permission denied"
# Solution: Ensure the directory has write permissions
# Unix/Mac: chmod 755 /path/to/directory
# Or run as user with appropriate permissions

# Error: "output_token_threshold must be > 0"
# Solution: Set MCP_OUTPUT_TOKEN_THRESHOLD to a positive integer
# Example: MCP_OUTPUT_TOKEN_THRESHOLD=1000

# Error: "output_csv_threshold must be between 1 and 1,000,000"
# Solution: Set MCP_OUTPUT_CSV_THRESHOLD within valid range
# Example: MCP_OUTPUT_CSV_THRESHOLD=100


# ==============================================================================
# NOTES
# ==============================================================================

# - Changes to .env require server restart to take effect
# - Use .env for local development, environment variables for production
# - Never commit .env to version control (use .env.example as template)
# - Boolean values accept: true/false, 1/0, yes/no, on/off (case insensitive)
# - Numeric values must be valid integers within specified ranges
# - Octal permissions must start with 0o (e.g., 0o755)
# - All paths should be absolute (no relative paths or ~)
